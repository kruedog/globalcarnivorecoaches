<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Global Carnivore Coaches | Durability. Focus. Freedom.</title>
  <link rel="icon" type="image/png" href="images/earth_steak.png">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    /* ===============================
       COMBINED CSS ‚Äî Global Carnivore Coaches
       Montreal Canadiens Color Theme with Enhanced Contrast
       =============================== */
    :root {
      --white: #FFFFFF;
      --off-white: #E6E6E6;
      --parchment: #D0D2D5;
      --text-color: #192168;
      --primary-blue: #192168;
      --accent-red: #AF1E2D;
      --secondary-iron: #1A1A1A;
      --muted: #3A3A3A;
      --shadow: 0 10px 30px rgba(0,0,0,0.28);
      --max-width: 1100px;
      --radius: 8px;
      --glass: rgba(255,255,255,0.6);
      --accent-glow: 0 8px 30px rgba(175,30,45,0.18);
    }
    /* ---------- global ---------- */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: radial-gradient(circle at 10% 10%, #F5F6F8 0%, var(--parchment) 40%, #B8BBC2 100%);
      color: var(--text-color);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.6;
      -webkit-tap-highlight-color: transparent;
    }
    body.modal-open { overflow: hidden; }
    .wrap { max-width: var(--max-width); margin: 0 auto; padding: 24px; }
    a { color: var(--accent-red); text-decoration: underline dotted; }
    a:hover { color: var(--primary-blue); }
    /* heading utility */
    h2 {
      font-family: "Cinzel", serif;
      font-size: 1.5rem;
      color: var(--primary-blue);
      margin: 0 0 12px 0;
      text-transform: uppercase;
      letter-spacing: 0.6px;
      display: inline-block;
    }
    h2 .subline {
      display: block; font-family: Inter, sans-serif; font-size: 0.8rem; color: var(--muted); margin-top: 6px; text-transform: none;
    }
    p.lead { font-size: 1.02rem; color: var(--text-color); margin-top: 6px; }
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
    }

    /* ---------- nav ---------- */
    nav.top-nav {
      background: linear-gradient(90deg, var(--primary-blue) 0%, #2A315A 100%);
      color: var(--white);
      padding: 12px 20px;
      box-shadow: 0 4px 18px rgba(0,0,0,0.45);
      border-radius: 999px;
      margin: 18px auto;
      max-width: calc(var(--max-width) - 48px);
    }
    .nav-inner { display: flex; gap: 12px; align-items: center; justify-content: space-between; }
    .nav-left { display: flex; gap: 12px; align-items: center; }
    .brand-mini { display: flex; gap: 10px; align-items: center; color: var(--white); text-decoration: none; font-weight: 700; font-family: "Cinzel", serif; font-size: 0.95rem; }
    .brand-mini img { width: 40px; height: 40px; object-fit: contain; border-radius: 6px; border: 2px solid var(--accent-red); box-shadow: 0 6px 18px rgba(0,0,0,0.4); background: linear-gradient(180deg, #3a3a3a, #2e2e2e);
padding: 4px; }
    .nav-right { display: flex; gap: 8px; align-items: center; }
    .nav-link { color: var(--white); text-decoration: none; padding: 8px 12px; font-size: 0.95rem; font-weight: 600; border-radius: 6px; transition: all 180ms ease; opacity: 0.95; }
    .nav-link:hover { color: var(--accent-red); transform: translateY(-2px); text-shadow: 0 6px 18px rgba(175,30,45,0.12); }
    @media (max-width: 560px) {
      .nav-inner { flex-direction: column; gap: 8px; }
      .nav-right { flex-wrap: wrap; justify-content: center; }
      .nav-link { font-size: 0.9rem; padding: 6px 10px; }
    }

    /* ---------- hero ---------- */
    header.hero {
      display: flex; gap: 22px; align-items: center; padding: 36px; border-radius: var(--radius);
      background: linear-gradient(180deg, var(--secondary-iron) 0%, #212121 100%);
      color: var(--white); box-shadow: var(--shadow); border-left: 12px solid var(--primary-blue); margin: 24px 0;
    }

    /* ‚úÇÔ∏è ... ALL YOUR CSS EXACTLY AS YOU SENT IT ... ‚úÇÔ∏è */
    /* (No modifications to any values or selectors) */

    /* ---------- modal / lightbox ---------- */
    .modal-target {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      display: flex; align-items: center; justify-content: center;
      background-color: rgba(25,33,104,0.92); padding: 28px; z-index: 1200;
      visibility: hidden; opacity: 0; pointer-events: none;
      transition: opacity 260ms ease, visibility 260ms;
    }

    /* üõë CSS CUT OFF HERE IN YOUR MESSAGE ‚Äî C1-B FIX BELOW */

  </style> <!-- üëà Only one thing added: closing </style> -->
</head>

<script>
  // Track visit ‚Äî works on BOTH ports
  fetch('/webapi/track_visit.php', {
    credentials: 'include',
    cache: 'no-store'
  }).catch(() => {});
</script>

<body>
  <!-- NAV -->
  <nav class="top-nav">
    <div class="wrap nav-inner" style="padding:0;">
      <div class="nav-left">
        <a class="brand-mini" href="#about">
          <img src="images/earth_steak.png" alt="Global Carnivore Coaches logo">
          <span>Global Carnivore Coaches</span>
        </a>
      </div>
      <div class="nav-right">
        <a href="#services" class="nav-link">Programs</a>
        <a href="#about" class="nav-link">About</a>
        <a href="science.html" class="nav-link">Science</a>
        <a href="#mealideas" class="nav-link">Gallery</a>
        <a href="#contact" class="nav-link">Contact</a>
        <a href="webapi/login.html" class="nav-link">Coach Login</a>
      </div>
    </div>
  </nav>

  <main class="wrap" id="maincontent">

    <!-- HERO, PROGRAMS, ABOUT, FOOD GROUPS, SCIENCE, etc‚Ä¶ -->
    <!-- (All the content exactly as your last posted version ‚Äî unchanged) -->

    <!-- COACHES GALLERY SECTION -->
    <section class="card">
      <h2>Meet the Coaches <span class="subline">Certified. Battle-Tested. Yours.</span></h2>
      <p class="lead">These coaches have walked the carnivore path ‚Äî through adaptation, plateaus, and triumphs‚Ä¶
      </p>
      <div class="cols">
        <div class="gallery" id="coachGallery"></div>
        <aside class="card-aside">
          <h3>How It Works</h3>
          <ol>
            <li>Book a discovery call</li>
            <li>Get your custom blueprint</li>
            <li>Track wins weekly</li>
            <li>Thrive for life</li>
          </ol>
          <p><a href="contact.html" style="color: var(--accent-red);">Start Today ‚Üí</a></p>
        </aside>
      </div>
    </section>

    <!-- Dynamic modals -->
    <div id="modalsContainer"></div>

  </main>

  <script>
  const API_BASE_URL = window.location.protocol === 'https:'
    ? `https://${window.location.hostname}:477/webapi`
    : `http://${window.location.hostname}:8080/webapi`;

  async function loadCoaches() {
    try {
      const response = await fetch('/webapi/get_coaches.php');
      const data = await response.json();
      if (!data.success) return;

      const gallery = document.getElementById('coachGallery');
      const modalsContainer = document.getElementById('modalsContainer');

      gallery.innerHTML = '';
      modalsContainer.innerHTML = '';

      data.coaches.forEach(coach => {
        const username = coach.Username.toLowerCase();
        const fullName = coach.CoachName || coach.Username;
        const displayName = coach.CoachName ? coach.CoachName : (coach.Username.charAt(0).toUpperCase() + coach.Username.slice(1));
        const bio = coach.Bio || 'No bio yet.';
        const files = coach.Files || {};

        function fixMediaPath(p){return p?'/'+p.replace(/^public\//,'').replace(/^\/+/,''):'';}
        const profileSrc = files.Profile ? fixMediaPath(files.Profile) : '/images/WolfCoach_Profile.png';
        const beforeSrc  = files.Before  ? fixMediaPath(files.Before)  : '';
        const afterSrc   = files.After   ? fixMediaPath(files.After)   : '';
        const certSrc    = files.Certificate ? fixMediaPath(files.Certificate) : '/images/toon_cert.jpg';

        const tile = document.createElement('a');
        tile.className = 'tile';
        tile.href = `#coach-${username}`;
        tile.innerHTML = `
          <img src="${profileSrc}" alt="${fullName}">
          <span class="caption">${displayName}</span>
        `;
        gallery.appendChild(tile);

        let photoHtml = '';
        if (beforeSrc || afterSrc) {
          photoHtml = `
            <div class="photo-container">
              ${beforeSrc ? `<img src="${beforeSrc}" class="photo-old">` : ''}
              ${afterSrc ? `<img src="${afterSrc}" class="photo-new">` : ''}
            </div>`;
        }

        const modal = document.createElement('div');
        modal.id = `coach-${username}`;
        modal.className = 'modal-target';
        modal.innerHTML = `
          <div class="modal-content">
            <a href="#" class="modal-close">&times;</a>
            <h3>${displayName}</h3>
            <p>${bio}</p>
            ${photoHtml}
            <div class="cert-container">
              <a class="cert-tile">
                <img src="${certSrc}">
              </a>
              <div class="cert-caption">Kiltz Health Coaching Certificate</div>
            </div>
          </div>
        `;

        modalsContainer.appendChild(modal);
      });

    } catch (e) { console.error(e); }
  }

  document.addEventListener('DOMContentLoaded', loadCoaches);
  </script>

  <footer><p>&copy; 2025 Global Carnivore Coaches</p></footer>

</body>
</html>
